<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard | The Algorithmic Scroll</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght=100..900&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the dark, modern theme */
        :root {
            --primary-color: #3b82f6; /* Tailwind Blue 500 */
            --bg-dark: #0a0a0a;
            --text-light: #f5f5f5;
            --card-dark: #1f2937; /* Tailwind Gray 800 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .frosted-glass {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: rgba(10, 10, 10, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Style for the post rows */
        .post-row:hover {
            background-color: #1f2937; /* Gray 800 */
            transform: scale(1.01);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.1);
        }
        .post-row {
            transition: all 0.2s ease;
        }
        /* Custom scrollbar for better aesthetic */
        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-thumb {
            background-color: #374151; /* Gray 700 */
            border-radius: 4px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- 1. HEADER (Sticky, Frosted Glass Effect) -->
    <header class="frosted-glass fixed top-0 left-0 w-full z-50 h-20">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between">
            <!-- Logo/Brand -->
            <a href="#" class="text-2xl font-black tracking-tighter text-blue-400 hover:text-blue-300 transition-colors">
                &lt;AlgorithmicScroll/&gt;
            </a>

            <!-- Navigation Placeholder -->
            <div class="text-xs text-gray-400 bg-gray-900 px-3 py-1 rounded-full truncate max-w-xs md:max-w-md">
                Content Dashboard
            </div>
            
            <!-- Logout/Profile Link -->
            <a href="#" class="bg-blue-600 hover:bg-blue-700 transition-colors text-white py-2 px-4 rounded-lg font-semibold shadow-md shadow-blue-600/30">
                Log Out
            </a>
        </nav>
    </header>

    <!-- 2. MAIN DASHBOARD SECTION -->
    <main class="pt-24 pb-12 flex-grow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

            <header class="mb-8 flex justify-between items-center border-b border-gray-800 pb-4">
                <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-600">
                    My Posts
                </h1>
                
                <!-- New Post Button -->
                <button id="new-post-button" class="flex items-center space-x-2 bg-green-600 hover:bg-green-700 transition-colors text-white py-2 px-4 rounded-xl font-bold text-sm shadow-lg shadow-green-600/30">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                    <span>New Post</span>
                </button>
            </header>
            
            <!-- Dashboard Content Card -->
            <div class="bg-gray-900 rounded-3xl shadow-2xl overflow-hidden border border-gray-800">
                
                <!-- Table Header -->
                <div class="hidden md:grid grid-cols-12 gap-4 text-xs font-semibold uppercase tracking-wider text-gray-400 p-4 border-b border-gray-800">
                    <div class="col-span-6 lg:col-span-5">Title</div>
                    <div class="col-span-2 lg:col-span-2 text-center">Status</div>
                    <div class="col-span-2 lg:col-span-3 text-center">Last Updated</div>
                    <div class="col-span-2 lg:col-span-2 text-right">Actions</div>
                </div>

                <!-- Post List Container -->
                <div id="posts-list" class="divide-y divide-gray-800">
                    <!-- Posts will be injected here by JavaScript -->
                </div>
                
                <!-- Status Message Area -->
                <div id="status-message" class="p-4 text-center text-sm font-medium h-4"></div>

            </div>
        </div>
    </main>
    
    <!-- 3. LOCAL JAVASCRIPT FOR MOCK DATA AND UI HANDLING -->
    <script>
        // Mock data structure
        let posts = [
            { id: 1, title: "The Quantum Leap: Decoding Decentralized AI Networks", status: 'Published', date: '2024-11-25 10:30' },
            { id: 2, title: "A Deep Dive into the Future of Zero-Knowledge Proofs", status: 'Published', date: '2024-11-20 14:15' },
            { id: 3, title: "Drafting the Next-Gen Internet: Web5 Concepts", status: 'Draft', date: '2024-11-27 09:00' },
            { id: 4, title: "The Ethics of Algorithmic Bias in Recommendation Engines", status: 'Published', date: '2024-11-15 11:50' },
            { id: 5, title: "Unlocking Lidar Data with Edge Computing (In Progress)", status: 'Draft', date: '2024-11-26 16:45' },
        ];

        const postsList = document.getElementById('posts-list');
        const statusMessage = document.getElementById('status-message');
        const newPostButton = document.getElementById('new-post-button');

        // --- Utility Functions ---
        function updateStatus(message, isError = false) {
            statusMessage.textContent = message;
            statusMessage.className = isError 
                ? 'p-4 text-center text-sm font-medium text-red-500' 
                : 'p-4 text-center text-sm font-medium text-green-500';
            setTimeout(() => { statusMessage.textContent = ''; }, 3000); // Clear after 3 seconds
        }

        function getStatusClasses(status) {
            if (status === 'Published') {
                return 'bg-green-600/20 text-green-400';
            }
            return 'bg-yellow-600/20 text-yellow-400';
        }

        function formatDate(isoString) {
            const date = new Date(isoString);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) + ' at ' + date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }

        // --- Render Function ---
        function renderPosts() {
            postsList.innerHTML = ''; // Clear existing posts
            
            if (posts.length === 0) {
                postsList.innerHTML = '<div class="p-8 text-center text-gray-500">You haven\'t written any posts yet. Start by clicking "New Post"!</div>';
                return;
            }

            posts.forEach(post => {
                const statusClasses = getStatusClasses(post.status);
                
                const postElement = document.createElement('div');
                postElement.className = 'post-row p-4 grid grid-cols-12 gap-4 items-center cursor-pointer';
                postElement.setAttribute('data-id', post.id);

                postElement.innerHTML = `
                    <!-- Title (Col 1: Mobile/Tablet, Col 6: Desktop) -->
                    <div class="col-span-12 md:col-span-6 lg:col-span-5 flex flex-col md:block">
                        <span class="md:hidden text-xs font-semibold uppercase text-gray-500">Title: </span>
                        <a href="#" class="text-lg font-medium text-gray-100 hover:text-blue-400 transition-colors truncate block">${post.title}</a>
                    </div>
                    
                    <!-- Status -->
                    <div class="col-span-4 md:col-span-2 lg:col-span-2 text-left md:text-center">
                        <span class="md:hidden text-xs font-semibold uppercase text-gray-500">Status: </span>
                        <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold ${statusClasses}">${post.status}</span>
                    </div>

                    <!-- Last Updated -->
                    <div class="col-span-5 md:col-span-2 lg:col-span-3 text-left md:text-center text-sm text-gray-400">
                        <span class="md:hidden text-xs font-semibold uppercase text-gray-500">Updated: </span>
                        ${formatDate(post.date)}
                    </div>
                    
                    <!-- Actions -->
                    <div class="col-span-3 md:col-span-2 lg:col-span-2 flex justify-end space-x-2">
                        <button data-action="edit" data-id="${post.id}" class="action-btn text-blue-400 hover:text-blue-300 p-2 rounded-lg transition-colors">
                            <!-- Edit Icon -->
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                        </button>
                        <button data-action="delete" data-id="${post.id}" class="action-btn text-red-400 hover:text-red-300 p-2 rounded-lg transition-colors">
                            <!-- Delete Icon -->
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3m-3 0h14"></path></svg>
                        </button>
                    </div>
                `;
                postsList.appendChild(postElement);
            });
            attachActionListeners();
        }

        // --- Action Handlers (Simulations) ---
        function attachActionListeners() {
            document.querySelectorAll('.action-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const action = e.currentTarget.getAttribute('data-action');
                    const id = parseInt(e.currentTarget.getAttribute('data-id'));
                    const post = posts.find(p => p.id === id);

                    if (!post) return updateStatus('Post not found!', true);

                    if (action === 'edit') {
                        // In a real app, this would navigate to the editor page
                        updateStatus(`Simulating edit for: ${post.title}`, false);
                    } else if (action === 'delete') {
                        // Delete simulation
                        const confirmation = true; // Simulating a custom modal confirmation result
                        if (confirmation) {
                            posts = posts.filter(p => p.id !== id);
                            renderPosts(); // Re-render the list
                            updateStatus(`Post "${post.title}" deleted successfully.`, false);
                        }
                    }
                });
            });
        }
        
        newPostButton.addEventListener('click', () => {
            updateStatus('Simulating navigation to New Post Editor...', false);
            // Simulating adding a new draft post
            const newId = posts.length > 0 ? Math.max(...posts.map(p => p.id)) + 1 : 1;
            posts.push({ 
                id: newId, 
                title: "New Draft Post (Untitled)", 
                status: 'Draft', 
                date: new Date().toISOString() 
            });
            renderPosts();
        });


        // Initialize the view
        window.onload = renderPosts;
    </script>
</body>
</html>